webpackJsonp([0],{"+cqB":function(t,e){},"+fUz":function(t,e,i){"use strict";var n={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"item"},[this._t("default")],2)},staticRenderFns:[]};e.a=n},"3DTB":function(t,e){},"5Kui":function(t,e){},"7KFN":function(t,e){},DTKC:function(t,e,i){"use strict";var n=i("+cqB"),s=i.n(n),a=i("+fUz");var o=function(t){i("yAPd")},r=i("Z0/y")(s.a,a.a,!1,o,null,null);e.default=r.exports},Hf0q:function(t,e,i){t.exports=i.p+"static/img/player_logo1.52a19f4.png"},HpuN:function(t,e){},Ka2B:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i("YhU3");var n=i("nWv3"),s=i.n(n),a=i("VCXJ");function o(){this.fontSize=Number(window.getComputedStyle(document.getElementsByTagName("html")[0]).fontSize.replace("px","")),this.init()}o.prototype={setFontSize:function(){var t=document.documentElement,e=t.getBoundingClientRect().width;e>500&&(e=500);var i=e/20;t.style.fontSize=i+"px";var n=Number(window.getComputedStyle(document.getElementsByTagName("html")[0]).fontSize.replace("px",""));i!==n&&(t.style.fontSize=i*(i/n)+"px"),this.fontSize=i},ready:function(){var t=void 0,e=this;window.addEventListener("resize",function(){clearTimeout(t),t=setTimeout(e.setFontSize.bind(e),300)},!1)},init:function(){this.setFontSize(),this.ready()},px2rem:function(t){return 20/375*t},rem2px:function(t){return t*this.fontSize},resetPx:function(t){return this.rem2px(this.px2rem(t))}};var r=new o,c=i("L7Pj"),u=i.n(c),l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header"},[i("div",{staticClass:"logo"}),t._v(" "),i("div",{staticClass:"showMusic",attrs:{id:"showMusic"},on:{click:function(e){t.showMusic()}}})])},staticRenderFns:[]};var d=i("Z0/y")({data:function(){return{}},methods:{showMusic:function(){this.$root.$emit("showMain",!1)}}},l,!1,function(t){i("5Kui")},null,null).exports,h={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"tab"},[this._t("default")],2)},staticRenderFns:[]};var m=i("Z0/y")({name:"tabBar",data:function(){return{}}},h,!1,function(t){i("3DTB")},"data-v-8d4b5560",null).exports,v=i("DTKC"),p=(i("qheF"),!1),g=!a.a.prototype.$isServer&&"ontouchstart"in window,f=(i("HpuN"),{name:"mt-range",props:{min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},disabled:{type:Boolean,default:!1},value:{type:Number},barHeight:{type:Number,default:1}},computed:{progress:function(){var t=this.value;return void 0===t||null===t?0:Math.floor((t-this.min)/(this.max-this.min)*100)}},mounted:function(){var t,e,i,n,s=this,a=this.$refs.thumb,o=this.$refs.content,r={};e={start:function(t){if(!s.disabled){var e,i,n=(e=o.getBoundingClientRect(),{left:(i=a.getBoundingClientRect()).left-e.left,top:i.top-e.top,thumbBoxLeft:i.left}),c=t.clientX-n.thumbBoxLeft;r={thumbStartLeft:n.left,thumbStartTop:n.top,thumbClickDetalX:c}}},drag:function(t){if(console.log(s),!s.disabled){var e=o.getBoundingClientRect(),i=t.pageX-e.left-r.thumbStartLeft-r.thumbClickDetalX,n=Math.ceil((s.max-s.min)/s.step),a=(r.thumbStartLeft+i-(r.thumbStartLeft+i)%(e.width/n))/e.width;a<0?a=0:a>1&&(a=1),s.$emit("input",Math.round(s.min+a*(s.max-s.min)))}},end:function(){console.log(s),s.disabled||(s.$emit("change",s.value),r={})}},i=function(t){e.drag&&e.drag(g?t.changedTouches[0]||t.touches[0]:t)},n=function t(n){g||(document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",t)),document.onselectstart=null,document.ondragstart=null,p=!1,e.end&&e.end(g?n.changedTouches[0]||n.touches[0]:n)},(t=a).addEventListener(g?"touchstart":"mousedown",function(t){p||(t.preventDefault(),document.onselectstart=function(){return!1},document.ondragstart=function(){return!1},g||(document.addEventListener("mousemove",i),document.addEventListener("mouseup",n)),p=!0,e.start&&e.start(g?t.changedTouches[0]||t.touches[0]:t))}),g&&(t.addEventListener("touchmove",i),t.addEventListener("touchend",n),t.addEventListener("touchcancel",n))}}),x={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mt-range",class:{"mt-range--disabled":t.disabled}},[t._t("start"),t._v(" "),i("div",{ref:"content",staticClass:"mt-range-content"},[i("div",{staticClass:"mt-range-runway",style:{"border-top-width":t.barHeight+"px"}}),t._v(" "),i("div",{staticClass:"mt-range-progress",style:{width:t.progress+"%",height:t.barHeight+"px"}}),t._v(" "),i("div",{ref:"thumb",staticClass:"mt-range-thumb",style:{left:t.progress+"%"}})]),t._v(" "),t._t("end")],2)},staticRenderFns:[]},w={data:function(){return{musicUrl:"",show:!1,showMini:!1,singerImg:"",songName:"",authorName:"",isPlaying:!1,currentIndex:"",musicId:"",songList:"",component:!1,index:"",isMini:!0,lyrics:[],isLight:!1,hash:"",rangeValue:0,duration:0,allTime:"00:00",playTime:"00:00",currentTime:0,touch:!1,audio:""}},components:{mtRange:i("Z0/y")(f,x,!1,null,null,null).exports},created:function(){var t=this;this.$root.$on("index",function(e){t.currentIndex=e}),this.$root.$on("songList",function(e){t.songList=e}),this.$root.$on("component",function(e){t.component=e}),this.$root.$on("showMini",function(e){t.showMini=e}),this.$root.$on("index",function(e){t.index=e}),this.$root.$on("showMain",function(e){t.isMini=e}),this.$root.$on("hash",function(e){u.a.ajax({type:"get",url:"http://m.kugou.com/index.php?r=play/getdata&hash="+e,dataType:"json",success:function(e){var i=e.data.lyrics.split("\r\n");t.lyrics=[],t.render(i)},error:function(t){console.log(t)}})}),this.$root.$on("data",function(e){t.musicUrl=e.play_url,t.singerImg=e.img,t.songName=e.song_name,t.authorName=e.audio_name.split("-")[0]})},mounted:function(){var t=this,e=void 0,i=void 0,n=void 0,s=void 0,a=(document.querySelector("#progress"),document.querySelector("#audio"));t.currentTime=a.currentTime,t.audio=a,a.loop=!1,a.addEventListener("timeupdate",function(){t.duration=Number(a.duration),t.rangeValue=Number(a.currentTime),isNaN(a.duration)||(n=Math.floor(Math.floor(a.duration)/60),s=Math.floor(a.duration)%60,t.allTime=(n>9?n:"0"+n)+":"+(s>9?s:"0"+s)),Math.floor(a.currentTime)<10?t.playTime="00:0"+Math.floor(a.currentTime):Math.floor(a.currentTime)>=10&&Math.floor(a.currentTime)<60?t.playTime="00:"+Math.floor(a.currentTime):(e=Math.floor(Math.floor(a.currentTime)/60),i=Math.floor(a.currentTime)%60,t.playTime=(e>9?e:"0"+e)+":"+(i>9?i:"0"+i));for(var o=0;o<t.lyrics.length;o++)a.currentTime>t.lyrics[o].time&&(t.isLight=o,u()(".lyricsBar").css("top",r.resetPx(50)-o*r.resetPx(30)))},!1)},methods:{showMain:function(){this.isMini=!1},goBack:function(){this.isMini=!0},play:function(){var t=document.querySelector("#audio");this.isPlaying||(t.play(),document.addEventListener("WeixinJSBridgeReady",function(){t.play()},!1),this.isPlaying=!0)},stop:function(){var t=document.querySelector("#audio");this.isPlaying&&(t.pause(),this.isPlaying=!1)},next:function(){switch(++this.currentIndex,this.component){case"hot":this.$root.$emit("indexData",{component:"hot",index:this.currentIndex});break;case"soar":this.$root.$emit("indexData",{component:"soar",index:this.currentIndex});break;case"new":this.$root.$emit("indexData",{component:"new",index:this.currentIndex});break;case"search":this.$root.$emit("indexData",{component:"search",index:this.currentIndex})}},back:function(){switch(--this.currentIndex,this.component){case"hot":this.$root.$emit("indexData",{component:"hot",index:this.currentIndex});break;case"soar":this.$root.$emit("indexData",{component:"soar",index:this.currentIndex});break;case"new":this.$root.$emit("indexData",{component:"new",index:this.currentIndex});break;case"search":this.$root.$emit("indexData",{component:"search",index:this.currentIndex})}},isPlay:function(){this.isPlaying=!0},musicEnd:function(t){var e=t.target;switch(this.isPlaying=!1,e.currentTime=0,++this.currentIndex,this.component){case"hot":this.$root.$emit("indexData",{component:"hot",index:this.currentIndex});break;case"soar":this.$root.$emit("indexData",{component:"soar",index:this.currentIndex});break;case"new":this.$root.$emit("indexData",{component:"new",index:this.currentIndex});break;case"search":this.$root.$emit("indexData",{component:"search",index:this.currentIndex})}},render:function(t){var e=/\[\d{2}:\d{2}.\d{2}\]/g;for(var i in t)if(""!==t[i]){var n,s={};n=t[i].match(e)[0].slice(1,-1).split(":"),s.time=60*parseInt(n[0],10)+parseFloat(n[1]),s.lyricsStr=t[i].replace(e,""),this.lyrics.push(s)}},rangeChange:function(t){var e=document.querySelector("#audio"),i=t.offsetX,n=document.querySelector("#process").offsetWidth-70,s=Math.floor(i*e.duration/n);console.log("offset"+i),i<n&&(e.currentTime=s)}}},_={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.showMini,expression:"showMini"}],staticClass:"audioBar"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isMini,expression:"isMini"}],staticClass:"miniBar"},[i("div",{staticClass:"authorImg",style:{backgroundImage:"url("+t.singerImg+")",backgroundSize:"cover"},on:{click:function(e){t.showMain()}}}),t._v(" "),i("div",{staticClass:"musicBar",on:{click:function(e){t.showMain()}}},[i("p",{staticClass:"songName"},[t._v(t._s(t.songName))]),t._v(" "),i("p",{staticClass:"authorName"},[t._v(t._s(t.authorName))])]),t._v(" "),i("div",{staticClass:"btnGroup"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isPlaying,expression:"!isPlaying"}],staticClass:"btn playBtn",attrs:{id:"playBtn"},on:{click:function(e){t.play()}}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isPlaying,expression:"isPlaying"}],staticClass:"btn pauseBtn",on:{click:function(e){t.stop()}}}),t._v(" "),i("div",{staticClass:"btn nextBtn",on:{click:function(e){t.next()}}})])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isMini,expression:"!isMini"}],staticClass:"mainBar",style:{backgroundImage:"url("+t.singerImg+")",backgroundSize:"cover"}},[i("div",{staticClass:"overflow"}),t._v(" "),i("div",{staticClass:"goBack",on:{click:function(e){t.goBack()}}},[i("div",{staticClass:"goBackImg"}),t._v(" "),i("div",{staticClass:"musicName"},[t._v(t._s(t.songName))])]),t._v(" "),i("div",{staticClass:"outLine",attrs:{id:"outLine"}},[i("div",{staticClass:"mainSingerImg",style:{backgroundImage:"url("+t.singerImg+")",backgroundSize:"cover"}})]),t._v(" "),i("div",{staticClass:"lyrics"},[i("div",{staticClass:"lyricsBar"},t._l(t.lyrics,function(e,n){return i("p",{class:{light:t.isLight===n}},[t._v(t._s(e.lyricsStr))])}))]),t._v(" "),i("div",{staticClass:"process",attrs:{id:"process"}},[i("mt-range",{attrs:{"bar-height":2,min:0,max:t.duration,step:1,disabled:""},nativeOn:{click:function(e){t.rangeChange(e)}},model:{value:t.audio.currentTime,callback:function(e){t.$set(t.audio,"currentTime",e)},expression:"audio.currentTime"}},[i("div",{staticClass:"start",attrs:{slot:"start"},slot:"start"},[t._v(t._s(t.playTime))]),t._v(" "),i("div",{staticClass:"end",attrs:{slot:"end"},slot:"end"},[t._v(t._s(t.allTime))])])],1),t._v(" "),i("div",{staticClass:"audioTool"},[i("div",{staticClass:"skipBtn back",on:{click:function(e){t.back()}}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isPlaying,expression:"!isPlaying"}],staticClass:"btn playBtn",attrs:{id:"mainPlayBtn"},on:{click:function(e){t.play()}}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isPlaying,expression:"isPlaying"}],staticClass:"btn pauseBtn",on:{click:function(e){t.stop()}}}),t._v(" "),i("div",{staticClass:"skipBtn next",on:{click:function(e){t.next()}}})])]),t._v(" "),i("audio",{attrs:{id:"audio",src:t.musicUrl,controlsList:"nodownload",preload:"auto",autoplay:"autoplay"},on:{ended:function(e){t.musicEnd(e)},play:function(e){t.isPlay()}}},[t._v("\n        亲 您的浏览器不支持html5的audio标签\n    ")])])},staticRenderFns:[]};var y=i("Z0/y")(w,_,!1,function(t){i("eNq7")},null,null).exports,b={name:"app",data:function(){return{isActive1:!0,isActive2:!1,isActive3:!1,showMini:!1}},components:{tabItem:v.default,headerBar:d,tabBar:m,miniRadio:y},created:function(){this.$router.push("/")},mounted:function(){var t=this;u()("#tab1").click(function(){t.isActive1=!0,t.isActive2=!1,t.isActive3=!1,t.$router.push("recommend")}),u()("#tab2").click(function(){t.isActive1=!1,t.isActive2=!0,t.isActive3=!1,t.$router.push("hotMusic")}),u()("#tab3").click(function(){t.isActive1=!1,t.isActive2=!1,t.isActive3=!0,t.$router.push("search")})}},$={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("img",{staticClass:"player_logo",attrs:{src:i("Hf0q"),alt:""}}),t._v(" "),n("header-bar"),t._v(" "),n("tab-bar",[n("tab-item",{class:{active:t.isActive1},attrs:{id:"tab1"}},[t._v("推荐音乐")]),t._v(" "),n("tab-item",{class:{active:t.isActive2},attrs:{id:"tab2"}},[t._v("热歌榜")]),t._v(" "),n("tab-item",{class:{active:t.isActive3},attrs:{id:"tab3"}},[t._v("搜索")])],1),t._v(" "),n("transition",[n("keep-alive",[n("router-view")],1)],1),t._v(" "),n("mini-radio")],1)},staticRenderFns:[]};var L=i("Z0/y")(b,$,!1,function(t){i("gnPL")},null,null).exports,C=i("zO6J"),N={data:function(){return{data:"",songList:"",soaringSongList:"",newSongInfo:{},showImg:0,getNewList:!1,showLoading:!0,lyrics:[]}},created:function(){this.getSoaringData(),this.getNewData()},mounted:function(){var t=this;t.showImg>=6&&!0===t.getNewList&&(t.showLoading=!1),this.$root.$on("indexData",function(e){t.indexObj=e,"soar"===t.indexObj.component?(t.indexObj.index>=t.soaringSongList.length&&(t.indexObj.index=0),t.indexObj.index<0&&(t.indexObj.index=t.soaringSongList.length-1),t.playSoarSong(t.indexObj.index,t.soaringSongList)):"new"===t.indexObj.component&&(t.indexObj.index>=t.songList.length&&(t.indexObj.index=0),t.indexObj.index<0&&(t.indexObj.index=t.songList.length-1),t.playNewMusic(t.indexObj.index,t.songList))})},methods:{getSoaringData:function(){var t=this;u.a.ajax({type:"get",url:"http://m.kugou.com/rank/info/?rankid=22163&page=1&json=true",dataType:"json",success:function(e){t.data=e.songs,t.soaringSongList=t.data.list.slice(0,6);for(var i=0;i<t.soaringSongList.length;i++)t.getSoaringMusicInfo(t.soaringSongList[i].hash,t.soaringSongList[i])},error:function(t){}})},getSoaringMusicInfo:function(t,e){var i=this;u.a.ajax({type:"get",url:"http://m.kugou.com/yy/index.php?r=play/getdata&hash="+t,dataType:"json",success:function(t){e.imgUrl=t.data.img,e.musicUrl=t.data.play_url,i.showImg+=1},error:function(t){console.log(t)}})},playSoarSong:function(t,e){this.$root.$emit("data",{play_url:e[t].musicUrl,img:e[t].imgUrl,song_name:e[t].filename.split("-")[1],audio_name:e[t].filename.split("-")[0]}),this.$root.$emit("showMini",!0),this.$root.$emit("index",t),this.$root.$emit("hash",e[t].hash),this.$root.$emit("component","soar")},getNewData:function(){var t=this;u.a.ajax({type:"get",url:"http://m.kugou.com/rank/info/?rankid=31308&page=1&json=true",dataType:"json",success:function(e){t.data=e.songs,t.songList=t.data.list;for(var i=0;i<t.songList.length;i++)-1!==t.songList[i].filename.indexOf("【")&&(t.songList[i].filename=t.songList[i].filename.replace("【","("),t.songList[i].filename=t.songList[i].filename.replace("】",")"),t.songList[i].songName=t.songList[i].filename.split("-")[1].split("(")[0],t.songList[i].intro="("+t.songList[i].filename.split("(")[1]);t.getNewList=!0},error:function(t){}})},playNewMusic:function(t,e){var i=this,n=e[t].hash;u.a.ajax({type:"get",url:"http://m.kugou.com/yy/index.php?r=play/getdata&hash="+n,dataType:"json",success:function(e){i.newSongInfo.imgUrl=e.data.img,i.newSongInfo.musicUrl=e.data.play_url,i.newSongInfo.filename=e.data.audio_name,i.newSongInfo.hash=n,i.postNewInfo(t,i.newSongInfo)},error:function(t){console.log(t)}})},postNewInfo:function(t,e){this.$root.$emit("data",{play_url:e.musicUrl,img:e.imgUrl,song_name:e.filename.split("-")[1],audio_name:e.filename.split("-")[0]}),this.$root.$emit("showMini",!0),this.$root.$emit("index",t),this.$root.$emit("hash",e.hash),this.$root.$emit("component","new")}}},S={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"recommend"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!(t.showImg>=6&&!0===t.getNewList),expression:"!(showImg >= 6 && getNewList === true)"}],staticClass:"loadingBar"},[i("mt-spinner",{attrs:{type:"fading-circle",size:30}})],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showImg>=6&&!0===t.getNewList,expression:"showImg >= 6 && getNewList === true"}]},[i("h3",{staticClass:"newTitle"},[t._v("推荐音乐")]),t._v(" "),t.showImg>=6?i("ul",{staticClass:"soaringList"},t._l(t.soaringSongList,function(e,n){return i("li",{on:{click:function(e){t.playSoarSong(n,t.soaringSongList)}}},[i("div",{staticClass:"soaringImg",style:{background:"url("+e.imgUrl+")",backgroundSize:"cover"}}),t._v(" "),i("p",[t._v(t._s(e.filename))])])})):t._e(),t._v(" "),i("h3",{staticClass:"newTitle"},[t._v("最新音乐")]),t._v(" "),i("ul",{staticClass:"newList"},t._l(t.songList,function(e,n){return i("li",{on:{click:function(e){t.playNewMusic(n,t.songList)}}},[i("div",{staticClass:"songList"},[i("p",[t._v(t._s(e.songName?e.songName:e.filename.split("-")[1])),i("span",{staticClass:"mark"},[t._v(t._s("(undefined"!==e.intro?e.intro:" "))])]),t._v(" "),i("p",[t._v(t._s(e.filename.split("-")[0]+"- "+e.remark))])]),t._v(" "),i("div",{staticClass:"playImg"})])}))])])},staticRenderFns:[]};var M=i("Z0/y")(N,S,!1,function(t){i("Ka2B")},null,null).exports,k={data:function(){return{songList:"",showLoading:!0,date:"",showMini:!1,musicId:"",musicUrl:"",indexObj:"",component:""}},components:{miniRadio:y},created:function(){this.getData()},mounted:function(){var t=this;this.$root.$on("indexData",function(e){t.indexObj=e,"hot"===t.indexObj.component&&(t.indexObj.index>=t.songList.length&&(t.indexObj.index=0),t.indexObj.index<0&&(t.indexObj.index=t.songList.length-1),t.showMiniRadio(t.indexObj.index))})},methods:{getData:function(){var t=this;u.a.ajax({type:"get",url:"http://m.kugou.com/rank/info/?rankid=8888&page=1&json=true",dataType:"json",success:function(e){t.songList=e.songs.list,t.showLoading=!1,t.date=t.getLocalTime(e.songs.timestamp).substring(0,10)},error:function(t){}})},getLocalTime:function(t){return new Date(1e3*parseInt(t)).toJSON()},showMiniRadio:function(t){var e=this;e.musicId=e.songList[t].hash,u.a.ajax({type:"get",url:"http://m.kugou.com/yy/index.php?r=play/getdata&hash="+e.musicId,dataType:"json",success:function(i){e.$root.$emit("showMini",!0),e.$root.$emit("data",i.data),e.$root.$emit("index",t),e.$root.$emit("component","hot"),e.$root.$emit("hash",e.musicId),(new Audio).load()},error:function(t){}})}}},I={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hot"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showLoading,expression:"showLoading"}],staticClass:"loadingBar"},[i("mt-spinner",{attrs:{type:"fading-circle",size:30}})],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.showLoading,expression:"!showLoading"}]},[i("div",{staticClass:"hotBanner"},[i("div",[i("div",{staticClass:"hotTitle"}),t._v(" "),i("div",{staticClass:"updateDate"},[t._v("更新日期："+t._s(t.date))])]),t._v(" "),i("div",{staticClass:"shadow"})]),t._v(" "),i("ul",{staticClass:"musicList"},t._l(t.songList,function(e,n){return i("li",{on:{click:function(e){t.showMiniRadio(n)}}},[i("div",{staticClass:"topNum",class:{top:n<3}},[t._v("\n          "+t._s(n<9?"0"+(n+1):n+1)+"\n        ")]),t._v(" "),i("div",{staticClass:"songList"},[i("p",[t._v(t._s(e.filename.split("-")[1]))]),t._v(" "),i("p",[t._v(t._s(e.filename.split("-")[0]+"- ")+t._s(e.remark?e.remark:e.filename.split("-")[1]))])]),t._v(" "),i("div",{staticClass:"playImg"})])}))])])},staticRenderFns:[]};var T=i("Z0/y")(k,I,!1,function(t){i("XJJn")},null,null).exports,j={data:function(){return{hotList:["说散就散","林俊杰","全部都是你","前任3插曲"],search:"",bestMatchList:"",songName:"",singerName:"",isShowList:!1,showNotes:!1,showDelete:!1}},mounted:function(){var t=this;this.$root.$on("indexData",function(e){t.indexObj=e,"search"===t.indexObj.component&&(t.indexObj.index>=t.bestMatchList.length&&(t.indexObj.index=0),t.postMusic(t.indexObj.index))})},methods:{doSearch:function(t){var e=this;e.search=t,u.a.ajax({type:"get",url:"http://m.kugou.com/song_search_v2?keyword="+t+"&page=1&clientver=&platform=WebFilter",dataType:"json",success:function(t){e.bestMatchList=t.data.lists,e.isShowList=!0,e.showNotes=!1},error:function(t){console.log(t)}})},inputFocus:function(){var t=this,e=u()("#searchIpt"),i=e.val();t.showDelete=!!i,e.bind("input porpertychange",function(){e.val()?(t.showNotes=!0,t.showDelete=!0):(t.showNotes=!1,t.isShowList=!1,t.showDelete=!1)})},clear:function(){u()("#searchIpt").val(""),this.search="",this.showNotes=!1,this.showDelete=!1,this.isShowList=!1},postMusic:function(t){var e=this,i=e.bestMatchList[t].Grp?e.bestMatchList[t].FileHash:e.bestMatchList[t].Grp[0].Filehash;u.a.ajax({type:"get",url:"http://m.kugou.com/yy/index.php?r=play/getdata&hash="+i,dataType:"json",success:function(n){e.$root.$emit("showMini",!0),e.$root.$emit("data",n.data),e.$root.$emit("index",t),e.$root.$emit("component","search"),e.$root.$emit("hash",i),(new Audio).load()},error:function(t){}})}}},B={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"search"},[i("div",{staticClass:"searchMain"},[i("div",{staticClass:"searchBar"},[i("div",{staticClass:"searchImg"}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"searchIpt",attrs:{type:"text",id:"searchIpt",placeholder:"搜索歌曲、歌手",autocomplete:"off"},domProps:{value:t.search},on:{focus:function(e){t.inputFocus()},input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showDelete,expression:"showDelete"}],staticClass:"deleteImg",on:{click:function(e){t.clear()}}})])]),t._v(" "),t.isShowList||t.showNotes?t._e():i("div",{staticClass:"hotSearch"},[i("h3",[t._v("热门搜索")]),t._v(" "),i("ul",{staticClass:"hotUl"},t._l(t.hotList,function(e,n){return i("li",{on:{click:function(i){t.doSearch(e)}}},[t._v(t._s(e))])}))]),t._v(" "),t.isShowList&&!t.showNotes?i("div",{staticClass:"showSearch"},[i("h3",[t._v("最佳匹配")]),t._v(" "),i("ul",{staticClass:"bestMatch"},t._l(t.bestMatchList,function(e,n){return i("li",{on:{click:function(e){t.postMusic(n)}}},[i("p",[t._v(t._s(e.Grp?e.SongName:e.Grp[0].SongName))]),t._v(" "),i("p",[t._v(t._s(e.Grp?e.FileName:e.Grp[0].FileName))])])}))]):t._e(),t._v(" "),t.showNotes?i("div",{staticClass:"searchNotes"},[i("h3",{staticClass:"searchBtn",on:{click:function(e){t.doSearch(t.search)}}},[t._v("搜索“"+t._s(t.search)+"”")])]):t._e()])},staticRenderFns:[]};var D=i("Z0/y")(j,B,!1,function(t){i("7KFN")},null,null).exports;a.a.use(C.a);var O=new C.a({routes:[{path:"/",component:M},{path:"/recommend",component:M},{path:"/hotMusic",component:T},{path:"/search",component:D}]});a.a.component(s.a.name,s.a),a.a.config.productionTip=!1,new a.a({el:"#app",router:O,template:"<App/>",components:{App:L}})},XJJn:function(t,e){},YhU3:function(t,e){},eNq7:function(t,e){},gnPL:function(t,e){},qheF:function(t,e,i){t.exports=i.p+"static/media/music.36128fc.mp3"},yAPd:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.593371491860db110aba.js.map